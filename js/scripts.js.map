{"version":3,"sources":["main.js"],"names":["initSlider","$","cycle","slides","fx","speed","timeout","initAccordion","$block","$headers","find","$content","not","hide","click","e","isActive","this","parent","hasClass","next","slideUp","removeClass","stop","slideDown","addClass","preventDefault","initPhoneMask","mask","checkVisibleSections","visiblePercent","window","height","$sections","each","add","hash","$menuItems","filter","length","id","attr","closest","scrollToElem","href","distance","scrollTop","offset","headerOffset","outerHeight","animate","top","initPopup","fancybox","minHeight","tpl","wrap","validateForms","extend","validator","messages","required","remote","email","url","date","dateISO","number","digits","creditcard","equalTo","extension","maxlength","format","minlength","rangelength","range","max","min","validate","validClass","errorElement","submitHandler","form","handleSubmitForm","trigger","highlight","element","errorClass","unhighlight","errorPlacement","error","event","el","popupTnx","console","log","ajax","type","data","serialize","beforeSend","closeBtn","success","msg","fixHeader","scroll","debounce","load"],"mappings":"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","file":"scripts.js","sourcesContent":["$( function() {   \r\n    $('section:in-viewport').addClass('animated');    \r\n    checkVisibleSections();\r\n    scrollToElem();    \r\n    fixHeader();\r\n    initPhoneMask();\r\n    validateForms();\r\n    initPopup();    \r\n    initAccordion();   \r\n    initSlider();\r\n});\r\n\r\n\r\n$(window).load(function(){\r\n    checkVisibleSections();\r\n});\r\n$(window).scroll(function(){\r\n    checkVisibleSections();\r\n});\r\n\r\nfunction initSlider() {\r\n    $('.main__slider').cycle({\r\n        slides: '> .main__slide',\r\n        fx: 'fade',\r\n        speed: 2000,\r\n        timeout: 4000,\r\n        \r\n    });\r\n}\r\n//function initTabsFaq() {\r\n//\r\n//    $('.faq__tab').click(function(e){\r\n//        $('.faq__tab').removeClass('active');\r\n//        $('#faq_answers').removeClass('active');\r\n//        $('#faq_questions').removeClass('active');\r\n//        $(this).addClass('active');\r\n//        var href = $(this).attr('href'); \r\n//        $(href).addClass('active');\r\n//        e.preventDefault();\r\n//    });\r\n//}\r\n\r\n\r\nfunction initAccordion() {\r\n    var $block = $('#sidebar');\r\n    var $headers = $block.find('dt a');\r\n    var $content = $block.find('dd');\r\n    $content.not('.active + dd').hide();\r\n\r\n    $headers.click(function(e){\r\n        var isActive = $(this).parent().hasClass('active');\r\n        if(isActive) {\r\n            $(this).parent().next().slideUp();\r\n            $(this).parent().removeClass('active');\r\n        } else {\r\n            $content.stop().slideUp();\r\n            $headers.parent().removeClass('active');\r\n            $(this).parent().next().stop().slideDown();\r\n            $(this).parent().addClass('active');\r\n        }\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\nfunction initPhoneMask() {\r\n    $('input[type=\"tel\"]').mask(\"+38 (999) 999-99-99\");\r\n}\r\n\r\nfunction checkVisibleSections() {\r\n    $('section:in-viewport').addClass('animated');      \r\n\r\n\r\n    var visiblePercent = $(window).height() / 100 * 49;\r\n    var $sections = $([]);\r\n\r\n    $('nav a').each(function(){\r\n        $sections = $sections.add($(this.hash));\r\n    });\r\n    var $menuItems = $('nav li');\r\n    if(!$sections.filter(':in-viewport(' + visiblePercent +')').length) return;\r\n\r\n    $sections.removeClass('visible');\r\n    $menuItems.find('a').removeClass('active');\r\n    $sections.filter(':in-viewport(' + visiblePercent +')').addClass('visible');\r\n\r\n    var id = \"#\" + $sections.filter('.visible').attr('id');\r\n    $menuItems.find('a[href=\"' + id + '\"]').closest('a').addClass('active');\r\n}\r\n/*function initSliderComments() {\r\n    $('.commnets__wrap-slider').each(function() {\r\n        var next = $(this).siblings('.arrow__right');\r\n        var prev = $(this).siblings('.arrow__left');\r\n        $(this).cycle({\r\n            slides: ' > .comments__wrap',\r\n            fx: 'scrollHorz',          \r\n            next: next,\r\n            prev: prev,                  \r\n            speed: 3000,\r\n            timeout: 3000,\r\n            paused: false\r\n        });\r\n    });\r\n}*/\r\n/*function initMap() {\r\n    if(typeof ymaps == 'undefined') return;\r\n    $('#location__map').html('');\r\n    var myMap, \r\n        myPlacemark;\r\n\r\n    function init(){ \r\n        myMap = new ymaps.Map(\"location__map\", {\r\n            center:[55.841426,37.452512],\r\n            zoom: 16\r\n\r\n        }); \r\n\r\n        myMap.behaviors.disable('scrollZoom');\r\n\r\n        myPlacemark = new ymaps.Placemark([55.841426,37.452512], {}, {\r\n             iconLayout: 'default#image',\r\n            iconImageHref: '',\r\n            iconImageSize: [51, 57],\r\n            iconImageOffset: [-11, -53]\r\n        });\r\n\r\n        myMap.geoObjects.add(myPlacemark);\r\n    }\r\n    ymaps.ready(init);\r\n}*/\r\n\r\nfunction scrollToElem() {\r\n    $('nav a').click(function(e){\r\n        var href = this.hash;\r\n        if(!$(href).length) return;\r\n\r\n        var distance = $(window).scrollTop() - ($(href).offset().top);\r\n        var speed = (distance > 0) ? distance / 4 : distance * -1 / 4;\r\n\r\n        var headerOffset = $('nav').outerHeight();\r\n\r\n        $('html, body').animate({scrollTop: ($(href).offset().top - headerOffset)}, speed);\r\n        e.preventDefault();\r\n    });\r\n}\r\n\r\n\r\n\r\n/*function scrollToUp() {\r\n    $(\".button-up\").click(function() {\r\n        $(\"html, body\").animate({ scrollTop: 0 }, 1500);\r\n        return false;\r\n    });\r\n}*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction initPopup() {\r\n    $('.order_call, .buy_one_click, .order_btn, .add_comments' ).fancybox({\r\n\r\n        minHeight:500,\r\n\r\n        tpl: {\r\n            wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\" style=\"background:none; box-shadow:none; padding:0;\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\" ></div></div></div></div>',\r\n\r\n        },\r\n    });\r\n\r\n}\r\n\r\n\r\nfunction validateForms() {\r\n    $.extend($.validator.messages, {\r\n        required: \"Это поле необходимо заполнить.\",\r\n        remote: \"Пожалуйста, введите правильное значение.\",\r\n        email: \"Пожалуйста, введите корректный адрес электронной почты.\",\r\n        url: \"Пожалуйста, введите корректный URL.\",\r\n        date: \"Пожалуйста, введите корректную дату.\",\r\n        dateISO: \"Пожалуйста, введите корректную дату в формате ISO.\",\r\n        number: \"Пожалуйста, введите число.\",\r\n        digits: \"Пожалуйста, вводите только цифры.\",\r\n        creditcard: \"Пожалуйста, введите правильный номер кредитной карты.\",\r\n        equalTo: \"Пожалуйста, введите такое же значение ещё раз.\",\r\n        extension: \"Пожалуйста, выберите файл с правильным расширением.\",\r\n        maxlength: $.validator.format(\"Пожалуйста, введите не больше {0} символов.\"),\r\n        minlength: $.validator.format(\"Пожалуйста, введите не меньше {0} символов.\"),\r\n        rangelength: $.validator.format(\"Пожалуйста, введите значение длиной от {0} до {1} символов.\"),\r\n        range: $.validator.format(\"Пожалуйста, введите число от {0} до {1}.\"),\r\n        max: $.validator.format(\"Пожалуйста, введите число, меньшее или равное {0}.\"),\r\n        min: $.validator.format(\"Пожалуйста, введите число, большее или равное {0}.\")\r\n    });\r\n\r\n    $('form').each(function(){\r\n        $(this).validate({\r\n            validClass: 'valid',\r\n            errorElement: 'div',\r\n            submitHandler: function(form){\r\n                handleSubmitForm({}, $(form) );\r\n                $(form).trigger('reset');\r\n            },\r\n            highlight: function(element, errorClass, validClass) {\r\n                $(element).addClass('error').removeClass('valid');\r\n\r\n            },\r\n            unhighlight: function(element, errorClass, validClass) {\r\n                $(element).removeClass('error').addClass('valid');\r\n            },\r\n            errorPlacement: function(error, element) {\r\n                return true;\r\n            },\r\n        });\r\n    });\r\n}\r\n\r\n\r\nfunction handleSubmitForm(event, el) {\r\n    var form = $(el);\r\n    var popupTnx = $(form).hasClass('comments__form') ? $('#popup__tnx-comments') : $('#popup__tnx');\r\n\r\n    console.log(popupTnx);\r\n   \r\n    $.ajax({\r\n        type: 'post',\r\n        url: form.attr('action'),\r\n        data: form.serialize(),\r\n        beforeSend: function(){            \r\n            $.fancybox(popupTnx,{\r\n                tpl: {\r\n                    wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\" style=\"background:none; box-shadow:none; padding:0;\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',\r\n                    closeBtn : '<a title=\"Close\" class=\"fancybox-item fancybox-close thx\" href=\"javascript:;\"></a>',\r\n                }\r\n            });                \r\n            $('form').trigger('reset');\r\n\r\n\r\n        },\r\n        success: function(msg) {\r\n            if (msg == 'ok') {} else {}\r\n        }\r\n    });\r\n}\r\n\r\n/*\r\nfunction handleSubmitForm(event, el) {\r\n    var form = $(el);\r\n    form.ajaxSubmit({\r\n        url: form.attr('action'),\r\n        data: form.formSerialize(),\r\n        beforeSubmit: function(){\r\n            $.fancybox('#popup__tnx',{\r\n                minHeight:400,\r\n                tpl: {\r\n                    wrap:'<div class=\"fancybox-wrap\" tabIndex=\"-1\"><div class=\"fancybox-skin\" style=\"background:none; box-shadow:none; padding:0;\"><div class=\"fancybox-outer\"><div class=\"fancybox-inner\"></div></div></div></div>',\r\n                },\r\n            });\r\n\r\n            form.resetForm();\r\n\r\n        }\r\n    });\r\n}\r\n*/\r\n\r\n\r\n\r\n\r\nfunction fixHeader() {\r\n    $(window).scroll($.debounce(0, function(){\r\n\r\n        if($(window).scrollTop() > 1) {\r\n            $('#header__menu').addClass('scrolled');\r\n            $('#header').addClass('hide');\r\n        } else {\r\n            $('#header__menu').removeClass('scrolled');\r\n            $('#header').removeClass('hide');\r\n        }\r\n\r\n    }));\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":"/source/"}