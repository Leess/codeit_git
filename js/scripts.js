function initSlider(){$(".main__slider").cycle({slides:"> .main__slide",fx:"fade",speed:2e3,timeout:4e3})}function initAccordion(){var e=$("#sidebar"),i=e.find("dt a"),a=e.find("dd");a.not(".active + dd").hide(),i.click(function(e){var n=$(this).parent().hasClass("active");n?($(this).parent().next().slideUp(),$(this).parent().removeClass("active")):(a.stop().slideUp(),i.parent().removeClass("active"),$(this).parent().next().stop().slideDown(),$(this).parent().addClass("active")),e.preventDefault()})}function initPhoneMask(){$('input[type="tel"]').mask("+38 (999) 999-99-99")}function checkVisibleSections(){$("section:in-viewport").addClass("animated");var e=$(window).height()/100*49,i=$([]);$("nav a").each(function(){i=i.add($(this.hash))});var a=$("nav li");if(i.filter(":in-viewport("+e+")").length){i.removeClass("visible"),a.find("a").removeClass("active"),i.filter(":in-viewport("+e+")").addClass("visible");var n="#"+i.filter(".visible").attr("id");a.find('a[href="'+n+'"]').closest("a").addClass("active")}}function scrollToElem(){$("nav a").click(function(e){var i=this.hash;if($(i).length){var a=$(window).scrollTop()-$(i).offset().top,n=a>0?a/4:a*-1/4,t=$("nav").outerHeight();$("html, body").animate({scrollTop:$(i).offset().top-t},n),e.preventDefault()}})}function initPopup(){$(".order_call, .buy_one_click, .order_btn, .add_comments").fancybox({minHeight:500,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin" style="background:none; box-shadow:none; padding:0;"><div class="fancybox-outer"><div class="fancybox-inner" ></div></div></div></div>'}})}function validateForms(){$.extend($.validator.messages,{required:"Это поле необходимо заполнить.",remote:"Пожалуйста, введите правильное значение.",email:"Пожалуйста, введите корректный адрес электронной почты.",url:"Пожалуйста, введите корректный URL.",date:"Пожалуйста, введите корректную дату.",dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:"Пожалуйста, введите число.",digits:"Пожалуйста, вводите только цифры.",creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:"Пожалуйста, введите такое же значение ещё раз.",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:$.validator.format("Пожалуйста, введите не больше {0} символов."),minlength:$.validator.format("Пожалуйста, введите не меньше {0} символов."),rangelength:$.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов."),range:$.validator.format("Пожалуйста, введите число от {0} до {1}."),max:$.validator.format("Пожалуйста, введите число, меньшее или равное {0}."),min:$.validator.format("Пожалуйста, введите число, большее или равное {0}.")}),$("form").each(function(){$(this).validate({validClass:"valid",errorElement:"div",submitHandler:function(e){handleSubmitForm({},$(e)),$(e).trigger("reset")},highlight:function(e,i,a){$(e).addClass("error").removeClass("valid")},unhighlight:function(e,i,a){$(e).removeClass("error").addClass("valid")},errorPlacement:function(e,i){return!0}})})}function handleSubmitForm(e,i){var a=$(i),n=$(a).hasClass("comments__form")?$("#popup__tnx-comments"):$("#popup__tnx");console.log(n),$.ajax({type:"post",url:a.attr("action"),data:a.serialize(),beforeSend:function(){$.fancybox(n,{tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin" style="background:none; box-shadow:none; padding:0;"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close thx" href="javascript:;"></a>'}}),$("form").trigger("reset")},success:function(e){}})}function fixHeader(){$(window).scroll($.debounce(0,function(){$(window).scrollTop()>1?($("#header__menu").addClass("scrolled"),$("#header").addClass("hide")):($("#header__menu").removeClass("scrolled"),$("#header").removeClass("hide"))}))}$(function(){$("section:in-viewport").addClass("animated"),checkVisibleSections(),scrollToElem(),fixHeader(),initPhoneMask(),validateForms(),initPopup(),initAccordion(),initSlider()}),$(window).load(function(){checkVisibleSections()}),$(window).scroll(function(){checkVisibleSections()});
//# sourceMappingURL=scripts.js.map
